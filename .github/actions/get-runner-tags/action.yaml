name: Determine Runner Tags
description: Determines runner tags based on the repository fork status

outputs:
  linux-runner-tags:
    description: Runner tags for Linux
  macos-runner-tags:
    description: Runner tags for macOS
  windows-runner-tags:
    description: Runner tags for Windows

runs:
  using: composite
  steps:
    - name: Determine runner tag for Linux
      id: set-linux-tag
      shell: bash
      run: |
        if [ "${{ github.event.repository.fork }}" == "true" ]; then
          echo "tag=ubuntu-latest" >> "$GITHUB_OUTPUT"
        else
          echo "tag=self-hosted Linux" >> "$GITHUB_OUTPUT"

    - name: Determine runner tag for macOS
      id: set-macos-tag
      shell: bash
      run: |
        if [ "${{ github.event.repository.fork }}" == "true" ]; then
          echo "tag=macos-latest" >> "$GITHUB_OUTPUT"
        else
          echo "tag=self-hosted macOS" >> "$GITHUB_OUTPUT"

    - name: Determine runner tag for Windows
      id: set-windows-tag
      shell: bash
      run: |
        if [ "${{ github.event.repository.fork }}" == "true" ]; then
          echo "tag=windows-latest" >> "$GITHUB_OUTPUT"
        else
          echo "tag=self-hosted Windows" >> "$GITHUB_OUTPUT"

    - name: Set output for Linux
      shell: bash
      run: echo "linux-runner-tags=${{ steps.set-linux-tag.outputs.tag }}" >> "$GITHUB_OUTPUT"

    - name: Set output for macOS
      shell: bash
      run: echo "macos-runner-tags=${{ steps.set-macos-tag.outputs.tag }}" >> "$GITHUB_OUTPUT"

    - name: Set output for Windows
      shell: bash
      run: echo "windows-runner-tags=${{ steps.set-windows-tag.outputs.tag }}" >> "$GITHUB_OUTPUT"